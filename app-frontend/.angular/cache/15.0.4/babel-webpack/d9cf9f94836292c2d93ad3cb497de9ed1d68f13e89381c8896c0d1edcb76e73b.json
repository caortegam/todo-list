{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { TodoList } from '../app.component';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"primeng/dialog\";\nimport * as i3 from \"primeng/button\";\nimport * as i4 from \"primeng/calendar\";\nconst _c0 = function () {\n  return {\n    width: \"50vw\"\n  };\n};\nexport class TodoModalComponent {\n  constructor() {\n    this.isVisible = false;\n    this.modalSave = new EventEmitter();\n    this.modalClose = new EventEmitter();\n    this.selectedDate = new Date();\n    this.todo = new FormGroup({\n      dueDate: new FormControl(new Date(), [Validators.required]),\n      description: new FormControl('', [Validators.required]),\n      priority: new FormControl(undefined, [Validators.required])\n    });\n  }\n  get dueDate() {\n    return this.todo.get('dueDate');\n  }\n  get description() {\n    return this.todo.get('description');\n  }\n  get priority() {\n    return this.todo.get('priority');\n  }\n  ngOnInit() {\n    this.reset();\n  }\n  save() {\n    const result = new TodoList();\n    result.description = this.description?.value;\n    result.priority = this.priority?.value;\n    result.dueDate = this.selectedDate;\n    this.modalSave.emit(result);\n    this.close();\n  }\n  close() {\n    this.reset();\n    this.modalClose.emit();\n  }\n  reset() {\n    this.todo.reset();\n    this.selectedDate = new Date();\n  }\n}\nTodoModalComponent.ɵfac = function TodoModalComponent_Factory(t) {\n  return new (t || TodoModalComponent)();\n};\nTodoModalComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TodoModalComponent,\n  selectors: [[\"todo-modal\"]],\n  inputs: {\n    isVisible: \"isVisible\"\n  },\n  outputs: {\n    modalSave: \"modalSave\",\n    modalClose: \"modalClose\"\n  },\n  decls: 24,\n  vars: 10,\n  consts: [[\"header\", \"Add TODO\", 3, \"visible\", \"modal\", \"draggable\", \"resizable\", \"closeOnEscape\", \"visibleChange\"], [3, \"formGroup\"], [1, \"mb-3\", \"row\"], [1, \"col\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"rows\", \"5\", \"formControlName\", \"description\", 1, \"form-control\"], [\"for\", \"priority\", 1, \"form-label\"], [\"aria-label\", \"Select priority\", \"name\", \"priority\", \"formControlName\", \"priority\", 1, \"form-select\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"value\", \"3\"], [\"for\", \"dueDate\", 1, \"form-label\"], [\"name\", \"dueDate\", \"appendTo\", \"body\", \"formControlName\", \"dueDate\", 1, \"form-control\"], [\"label\", \"Close\", 1, \"float-right\", 3, \"click\"], [\"label\", \"Add\", 1, \"float-right\", 3, \"disabled\", \"click\"]],\n  template: function TodoModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p-dialog\", 0);\n      i0.ɵɵlistener(\"visibleChange\", function TodoModalComponent_Template_p_dialog_visibleChange_0_listener($event) {\n        return ctx.isVisible = $event;\n      });\n      i0.ɵɵelementStart(1, \"form\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"label\", 4);\n      i0.ɵɵtext(5, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"textarea\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 2)(8, \"div\", 3)(9, \"label\", 6);\n      i0.ɵɵtext(10, \"Priority\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"select\", 7)(12, \"option\", 8);\n      i0.ɵɵtext(13, \"Low\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"option\", 9);\n      i0.ɵɵtext(15, \"Medium\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"option\", 10);\n      i0.ɵɵtext(17, \"Important\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"div\", 3)(19, \"label\", 11);\n      i0.ɵɵtext(20, \"Due date\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(21, \"p-calendar\", 12);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"p-button\", 13);\n      i0.ɵɵlistener(\"click\", function TodoModalComponent_Template_p_button_click_22_listener() {\n        return ctx.close();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"p-button\", 14);\n      i0.ɵɵlistener(\"click\", function TodoModalComponent_Template_p_button_click_23_listener() {\n        return ctx.save();\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵstyleMap(i0.ɵɵpureFunction0(9, _c0));\n      i0.ɵɵproperty(\"visible\", ctx.isVisible)(\"modal\", true)(\"draggable\", false)(\"resizable\", false)(\"closeOnEscape\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"formGroup\", ctx.todo);\n      i0.ɵɵadvance(22);\n      i0.ɵɵproperty(\"disabled\", !ctx.todo.valid);\n    }\n  },\n  dependencies: [i1.ɵNgNoValidate, i1.NgSelectOption, i1.ɵNgSelectMultipleOption, i1.DefaultValueAccessor, i1.SelectControlValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName, i2.Dialog, i3.Button, i4.Calendar],\n  styles: [\"p-calendar.form-control[_ngcontent-%COMP%]{\\r\\n  border: none;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdG9kby1tb2RhbC90b2RvLW1vZGFsLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxZQUFZO0FBQ2QiLCJzb3VyY2VzQ29udGVudCI6WyJwLWNhbGVuZGFyLmZvcm0tY29udHJvbHtcclxuICBib3JkZXI6IG5vbmU7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAA0C,eAAe;AACzF,SAASC,QAAQ,QAAsB,kBAAkB;AACzD,SAASC,WAAW,EAAEC,SAAS,EAAEC,UAAU,QAAQ,gBAAgB;;;;;;;;;;;AAOnE,OAAM,MAAOC,kBAAkB;EAO7BC;IANS,cAAS,GAAY,KAAK;IACzB,cAAS,GAAsB,IAAIN,YAAY,EAAO;IACtD,eAAU,GAAsB,IAAIA,YAAY,EAAO;IAEjE,iBAAY,GAAS,IAAIO,IAAI,EAAE;IAG7B,IAAI,CAACC,IAAI,GAAG,IAAIL,SAAS,CAAC;MACxBM,OAAO,EAAE,IAAIP,WAAW,CAAC,IAAIK,IAAI,EAAE,EAAE,CACnCH,UAAU,CAACM,QAAQ,CACpB,CAAC;MACFC,WAAW,EAAE,IAAIT,WAAW,CAAC,EAAE,EAAG,CAChCE,UAAU,CAACM,QAAQ,CACpB,CAAC;MACFE,QAAQ,EAAE,IAAIV,WAAW,CAACW,SAAS,EAAE,CACnCT,UAAU,CAACM,QAAQ,CACpB;KACF,CAAC;EACJ;EAEA,IAAID,OAAO;IACT,OAAO,IAAI,CAACD,IAAI,CAACM,GAAG,CAAC,SAAS,CAAC;EACjC;EAEA,IAAIH,WAAW;IACb,OAAO,IAAI,CAACH,IAAI,CAACM,GAAG,CAAC,aAAa,CAAC;EACrC;EAEA,IAAIF,QAAQ;IACV,OAAO,IAAI,CAACJ,IAAI,CAACM,GAAG,CAAC,UAAU,CAAC;EAClC;EAEAC,QAAQ;IACN,IAAI,CAACC,KAAK,EAAE;EACd;EAEAC,IAAI;IACF,MAAMC,MAAM,GAAG,IAAIjB,QAAQ,EAAE;IAC7BiB,MAAM,CAACP,WAAW,GAAG,IAAI,CAACA,WAAW,EAAEQ,KAAK;IAC5CD,MAAM,CAACN,QAAQ,GAAG,IAAI,CAACA,QAAQ,EAAEO,KAAK;IACtCD,MAAM,CAACT,OAAO,GAAG,IAAI,CAACW,YAAY;IAElC,IAAI,CAACC,SAAS,CAACC,IAAI,CAACJ,MAAM,CAAC;IAC3B,IAAI,CAACK,KAAK,EAAE;EACd;EAEAA,KAAK;IACH,IAAI,CAACP,KAAK,EAAE;IACZ,IAAI,CAACQ,UAAU,CAACF,IAAI,EAAE;EACxB;EAEAN,KAAK;IACH,IAAI,CAACR,IAAI,CAACQ,KAAK,EAAE;IACjB,IAAI,CAACI,YAAY,GAAG,IAAIb,IAAI,EAAE;EAChC;;AAvDWF,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAoB;EAAAC;IAAAC;EAAA;EAAAC;IAAAP;IAAAG;EAAA;EAAAK;EAAAC;EAAAC;EAAAC;IAAA;MCT/BC,mCAA+J;MAAnIA;QAAA;MAAA,EAAuB;MACjDA,+BAAyB;MAGyBA,2BAAW;MAAAA,iBAAQ;MAC/DA,8BAAkG;MACpGA,iBAAM;MAERA,8BAAsB;MAEuBA,yBAAQ;MAAAA,iBAAQ;MACzDA,kCAAoG;MAChFA,oBAAG;MAAAA,iBAAS;MAC9BA,kCAAkB;MAAAA,uBAAM;MAAAA,iBAAS;MACjCA,mCAAkB;MAAAA,0BAAS;MAAAA,iBAAS;MAGxCA,+BAAiB;MACyBA,yBAAQ;MAAAA,iBAAQ;MACxDA,kCAAuG;MACzGA,iBAAM;MAERA,qCAA8D;MAApDA;QAAA,OAASC,WAAO;MAAA,EAAC;MAAmCD,iBAAW;MACzEA,qCAAoF;MAA1EA;QAAA,OAASC,UAAM;MAAA,EAAC;MAA0DD,iBAAW;;;MAvBhCA,yCAA2B;MAAlEA,uCAAuB;MAC3CA,eAAkB;MAAlBA,oCAAkB;MAsBqCA,gBAAwB;MAAxBA,0CAAwB","names":["EventEmitter","TodoList","FormControl","FormGroup","Validators","TodoModalComponent","constructor","Date","todo","dueDate","required","description","priority","undefined","get","ngOnInit","reset","save","result","value","selectedDate","modalSave","emit","close","modalClose","selectors","inputs","isVisible","outputs","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["D:\\personal-repos\\todo-list\\app-frontend\\src\\app\\todo-modal\\todo-modal.component.ts","D:\\personal-repos\\todo-list\\app-frontend\\src\\app\\todo-modal\\todo-modal.component.html"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\r\nimport { TodoList, TodoPriority } from '../app.component';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'todo-modal',\r\n  templateUrl: './todo-modal.component.html',\r\n  styleUrls: ['./todo-modal.component.css']\r\n})\r\nexport class TodoModalComponent implements OnInit {\r\n  @Input() isVisible: boolean = false;\r\n  @Output() modalSave: EventEmitter<any> = new EventEmitter<any>();\r\n  @Output() modalClose: EventEmitter<any> = new EventEmitter<any>();\r\n  todo: FormGroup;\r\n  selectedDate: Date = new Date();\r\n\r\n  constructor(){\r\n    this.todo = new FormGroup({\r\n      dueDate: new FormControl(new Date(), [\r\n        Validators.required,\r\n      ]),\r\n      description: new FormControl('',  [\r\n        Validators.required,\r\n      ]),\r\n      priority: new FormControl(undefined, [\r\n        Validators.required,\r\n      ]),\r\n    });\r\n  }\r\n\r\n  get dueDate(){\r\n    return this.todo.get('dueDate'); \r\n  }\r\n\r\n  get description(){\r\n    return this.todo.get('description');\r\n  }\r\n\r\n  get priority(){\r\n    return this.todo.get('priority');\r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    this.reset();    \r\n  }\r\n\r\n  save(){\r\n    const result = new TodoList();\r\n    result.description = this.description?.value;\r\n    result.priority = this.priority?.value;\r\n    result.dueDate = this.selectedDate;\r\n    \r\n    this.modalSave.emit(result);\r\n    this.close();\r\n  }\r\n\r\n  close(){\r\n    this.reset();\r\n    this.modalClose.emit();\r\n  }\r\n\r\n  reset(){\r\n    this.todo.reset();\r\n    this.selectedDate = new Date();\r\n  }\r\n}\r\n","<p-dialog header=\"Add TODO\" [(visible)]=\"isVisible\" [modal]=\"true\" [style]=\"{ width: '50vw' }\" [draggable]=\"false\" [resizable]=\"false\" [closeOnEscape]=\"false\">\r\n  <form [formGroup]=\"todo\">\r\n    <div class=\"mb-3 row\">\r\n      <div class=\"col\">\r\n        <label for=\"description\" class=\"form-label\">Description</label>\r\n        <textarea class=\"form-control\" id=\"description\" rows=\"5\" formControlName=\"description\"></textarea>\r\n      </div>\r\n    </div>\r\n    <div class=\"mb-3 row\">\r\n      <div class=\"col\">\r\n        <label for=\"priority\" class=\"form-label\">Priority</label>\r\n        <select class=\"form-select\" aria-label=\"Select priority\" name=\"priority\" formControlName=\"priority\">\r\n          <option value=\"1\">Low</option>\r\n          <option value=\"2\">Medium</option>\r\n          <option value=\"3\">Important</option>\r\n        </select>\r\n      </div>\r\n      <div class=\"col\">\r\n        <label for=\"dueDate\" class=\"form-label\">Due date</label>\r\n        <p-calendar class=\"form-control\" name=\"dueDate\" appendTo=\"body\" formControlName=\"dueDate\"></p-calendar>\r\n      </div>\r\n    </div>\r\n    <p-button (click)=\"close()\" label=\"Close\" class=\"float-right\"></p-button>\r\n    <p-button (click)=\"save()\" label=\"Add\" class=\"float-right\" [disabled]=\"!todo.valid\"></p-button>\r\n  </form>\r\n</p-dialog>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}